// =====================
// Шапка проекта
// =====================

$neighbors-width = 75px

.project-header
	position relative
	display: flex
	flex-direction: column
	gap: 8px
	margin-bottom: 3rem
	@extend $g__section
	border: 3px solid $color_black
	justify-content: space-between
	flex-wrap: wrap
	border-radius: $section__radius
	+media(md)
		padding-right "calc(%s + %s + 1rem)" % ($section__padding-desktop $neighbors-width) // 1rem - дополнительный отступ справа для кнопок
		z-index: 500
	h1
		margin-bottom: 0


// Следующий/предыдущий проект

.neighbors
	@extend $d-flex
	flex-wrap: wrap
	width $neighbors-width
	+media(md)
		position: absolute
		top: 1rem
		right: @top

	&__prev,
	&__next
		align-self: center
		width calc(50% - 2px)
		height: 32px
		padding: 0
		font-size: 20px
	&__next
		margin-left: auto;
	&__prev:before
	&__next:before
		content ''
		display: block
		width: 100%
		height: 100%
		margin auto
		background url('/imgs/neighbor-arrow.svg') 50% 50% no-repeat
		background-size: 18px
	&__prev:before
		transform scaleX(-1)




// =====================
// Разметка контентных блоков
// =====================



// Секция для группировки описания работы
.project-section
	h2
		margin: 0
		padding-bottom 0.8rem // перезаписывает @extend
	&__inner
		margin-top 0.5rem
		@extend $g__section
		&:first-of-type
			margin-top 0
	h2~&__inner:first-of-type // первый __inner после h2
		padding-top: 0
	&:not(:last-child)
		margin-bottom 2rem


.project-cols
	+media(lg)
		display: grid
		gap 32px
		grid-template-columns: 3fr 5fr

	h3:first-child
		margin-top: 0
//.project-col



// =====================
// Контент
// =====================

.project-video
	+media-down(md)
		position: relative
		padding-bottom: 56.25% // 16:9
		height: 0
	iframe
		display: block
		+media-down(md)
			position: absolute
			top: 0
			left: 0
			width: 100%
			height: 100%

// Изображения
.project-img
	&:not(:last-child) // Отступ под картинкой
		margin-bottom: 1rem
	&__src
		height auto
		max-width 100%
		&.--md
			max-width 800px
			width 100%
		&.--s
			max-width 600px
			width 100%
		&.--xs
			max-width 400px
			width 100%


// Разделение на колонки
.article-project
	.row
		display grid
		gap 32px
		+media(sm)
			grid-template-columns: repeat(auto-fit, minmax(330px, 1fr))