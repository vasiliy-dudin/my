@import "../variables/_index.styl"
@import "../variables/tokens"
@import "../variables/tokens-semantic.styl"

.project-cols
	display flex
	gap: 24px

// Page navigation
.project-col-2
	display: none
	+media(lg)
		display: block
		position: relative
		order: 2
		flex: 0 0 240px

.project-nav
	display: grid
	position: sticky
	gap: 16px
	top 12px
	padding: 16px
	border-radius: $radius--XL
	box-shadow: 0 0 20px #00000027
	ul
		margin: 0
		padding: 0
		list-style-type: none
		font-size: $font-size-xs


// =====================
// Шапка проекта
// =====================
$spacing = 24px

.project-header
	position relative
	display: flex
	flex-direction: column
	margin-bottom: $spacing
	justify-content: space-between
	flex-wrap: wrap
	background $background-2
	box-shadow: 8px 12px 0 $border-color-2, 
		-2px -2px 0 $border-color-2
	@extend $g__section $radius

	&__content 
		@extend $g__section $paddings		
		display: flex
		flex-direction: column
		gap: 8px
	&__h1
		margin: 0
	&__img
		@extend .img-fluid
		display block
		width: 100%
		@extend $g__section $radius
	&__description
	&__date
		line-height 1.1
	
	&__h1-row
		display: contents
		+media(md)
			display: flex
			justify-content: space-between

.project-neighbours
	display: inline-flex
	flex-shrink: 0	
	&__lnk
		display: flex
		align-items: center
		padding: 4px 8px
		gap: 4px
		font-size: $font-size-xs
		text-decoration: none
		color: $sd-color__palette-gray-500
		border-radius: $radius--M
	// The next link is always on the right. Even if it's the very first page
	&__lnk.--next
		+media(md)
			margin-left: auto

	&__icon
		width: 24px
		height: 24px
	&__icon.--prev
		transform: rotate(180deg)

	// neighbours in header
	.project-header &
		// Hides from header on desktops
		+media(lg)
			display: none

	.project-nav &
		display: flex
		justify-content: space-between
		

// =====================
// Разметка контентных блоков
// =====================

.project-body
	display flex
	flex-direction: column
	gap: $spacing

// Section for grouping project description
.project-section
	@extend $g__section $secondary
	@extend $g__section $paddings
	@extend $g__section $radius
	h2
		margin-top: 0



// =====================
// Контент
// =====================

.project-video
	+media-down(md)
		position: relative
		padding-bottom: 56.25% // 16:9
		height: 0
	iframe
		display: block
		+media-down(md)
			position: absolute
			top: 0
			left: 0
			width: 100%
			height: 100%

// Изображения
.project-body img
	display: block
	@extend .img-fluid
	border: 1px solid #fff
	border-radius: $radius--M
// .project-img
// 	&:not(:last-child) // Отступ под картинкой
// 		margin-bottom: 1rem
// 	&__src
// 		height auto
// 		max-width 100%
// 		&.--md
// 			max-width 800px
// 			width 100%
// 		&.--s
// 			max-width 600px
// 			width 100%
// 		&.--xs
// 			max-width 400px
// 			width 100%


// Highlight inline values
.highlightValue
	text-decoration: underline
	text-decoration-thickness: 8px
	text-decoration-skip-ink: none
	text-underline-offset: -1px
	&.--old
		border-color: $sd-color__palette-gray-300
	&.--bad
		text-decoration-color: alpha($sd-color__palette-yellow-200, 60%)
	&.--good
		text-decoration-color: alpha($sd-color__palette-green-200, 60%)




.project-section__highlights
	display: block
	width: 100%
	padding: 24px
	background: $sd-color__palette-blue-100
	border-radius $radius--M
	font-weight: normal

// External links
.project-body a[href^="https://"]
.project-body a[href^="http://"]
	align-items: center
	gap: 8px
	&:after
		content: ''
		width: 16px
		height: @width
		display: block
		background-image: url("../assets/external-link.svg")
		    background-size: contain

// Разделение на колонки
.article-project
	.row
		display grid
		gap 32px
		+media(sm)
			grid-template-columns: repeat(auto-fit, minmax(330px, 1fr))