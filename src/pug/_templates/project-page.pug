include ../_helpers/variables
include ../_helpers/mixins


//////////////-
//- Миксины
//////////////-

//- Секция для группировки описания работы
mixin section($heading)
	section.project-section
		if $heading
			h2.project-h2=$heading
		block
mixin section_inner
	.project-section__inner
		if $heading
			h3.project-h3=$heading
		block
//- Описание проекта в 2 колонки
mixin project-cols
	.project-cols
		block
mixin project-col-1
	.project-col(class="--1")
		block
mixin project-col-2
	.project-col(class="--2")
		block

//- Изображение
mixin img-project($filename, $extension, $size, $alt="")
	.project-img
		picture
			source(
				type="image/webp",
				srcset=$filename+".webp" + " 1x," + $filename+"@2x.webp 2x")
			img.project-img__src(
				src=$filename+"."+$extension,
				srcset=$filename+"."+$extension + " 1x, " + $filename+"@2x."+$extension + " 2x",
				alt=$alt,
				class=(
					$size
					? '--'+$size
					: ''
				)
			)
//- Видео
mixin video-project()
	.project-video
		block

//- Ссылка на прототип
mixin prototype-link($url, $text="Интерактивный прототип")
	p
		a(href=$url, target='_blank', rel="nofollow noopener noreferrer").link=$text





//- Активный пунт меню
- var $menu_activeLink = "2"

doctype
html(lang="ru")
	head
		include _includes/_head.pug
	body
		include _includes/_header.pug
		main.main
			.container
				+breadcrumbs({'Главная': '/', 'Проекты': '/projects/'})
				article.article-project
					header.project-header
						h1= $h1
						if $date
							.project-header__date= $date

						//- Ссылки на соседние проекты
						.neighbors
							each val in projectList
								if val.type === "internal"
									case val.id
										when (parseInt($projectID) + 1).toString()
											a(href="/projects/"+ val.id + "/", title=val.name, data-ga-label="Prev", aria-label="Следующий проект: "+val.name).neighbors__next.btn
										when (parseInt($projectID) - 1).toString()
											a(href="/projects/"+ val.id + "/", title=val.name, data-ga-label="Next", aria-label="Предыдущий проект: "+val.name).neighbors__prev.btn


					block content

		include _includes/_footer.pug